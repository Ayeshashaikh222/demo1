<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div class="main-container">
        <div class="container">
            <div class="row">
                <div class="col-lg-1 col-sm-1 col-m-1"></div>
                <form onsubmit="myfunc(event)">


                    <label for="fullname"> Full Name:</label>
                    <input type="text" id="fullname" name="username" class="form-control" value="">


                    <label for="useremail">Email:</label>
                    <input type="email" id="useremail" name="useremail" class="form-control">


                    <label for="mobileNumber">Phone:</label>
                    <input type="text" id="mobileNumber" name="phoneNumber" class="form-control">

                    <input type="submit" id="button" value="Submit">
                </form>
                <ul id="listOfItems"></ul>
                <script>
                    function myfunc(event) {
                        event.preventDefault();
                        const name = event.target.username.value;
                        const email = event.target.useremail.value;
                        const mobileNumber = event.target.phoneNumber.value;

                        const obj = {
                            name,
                            email,
                            mobileNumber
                        }

                        localStorage.setItem(obj.email, JSON.stringify(obj))
                        showUserOnScreen(obj)

                        function showUserOnScreen(obj) {
                            const parentItem = document.getElementById('listOfItems');
                            const childItem = document.createElement('li');
                           
                            
                            childItem.textContent = obj.name + " - " + obj.email + " - " + obj.mobileNumber;
                            // parentItem.innerHTML =  parentItem.innerHTML + `<li>${obj.name} - ${obj.email} - ${obj.mobileNumber}</li>`;

                            parentItem.appendChild(childItem);

                            // added delete button
                            const btn = document.createElement('input');
                            btn.type = 'button';
                            btn.value = 'delete';
                            btn.onclick = () => {
                                parentItem.removeChild(childItem);
                                localStorage.removeItem(obj.email);
                            }
                            parentItem.appendChild(btn);
                            
                            // added edit button
                            const edit = document.createElement('input');
                            edit.type = 'button';
                            edit.value = 'Edit';
                            edit.onclick = () => {
                                localStorage.removeItem(obj.email);
                                parentItem.removeChild(childItem);
                            
                                document.getElementById('fullname').value = obj.name
                                document.getElementById('useremail').value = obj.email
                                document.getElementById('mobileNumber').value = obj.mobileNumber
                               


                            }
                            parentItem.appendChild(edit);
                                   
                    }

                    }
                </script>
</body>

</html>